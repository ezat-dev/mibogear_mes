<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="quality">

	<!-- 일상점검일지 조회 -->
		<select id="getDailyCheckList" parameterType="Quality" resultType="Quality">
	SELECT * FROM tb_fproof
	WHERE 1=1
		<if test="date != null and date != ''">
			AND d_ym LIKE CONCAT(#{date}, '%')
		</if>
	</select>
		<!-- 일상점검일지 업데이트 -->
	<update id="dailyCheckUpdate" parameterType="Quality">
	UPDATE tb_fproof
	SET ${d_field} = #{d_value}
	WHERE cnt = #{cnt}
	</update>
	<!-- 일상점검일지 삭제 -->
	<delete id="dailyCheckDelete" parameterType="Quality">
	DELETE FROM tb_fproof
	WHERE cnt = #{cnt}
	</delete>
	<!-- 일상점검일지 추가 -->
	<insert id="dailyCheckInsert" parameterType="Quality">
INSERT INTO tb_fproof (
        d_title,
        d_desc,
        d_ym
    ) VALUES (
        '',
        '',
        #{d_ym}
    )
	</insert>
	<!-- 온도균일성 조회 -->
	<select id="getTempUniformityList" parameterType="Quality" resultType="Quality">
	SELECT * FROM tb_temp_uniformity
	WHERE 1=1
		<if test="t_year != null and t_year != ''">
			AND t_year LIKE CONCAT(#{t_year}, '%')
		</if>
	</select>
	<!-- 온도균일성 업데이트 -->
	<update id="updateTempUniformity" parameterType="Quality">
	UPDATE tb_temp_uniformity
	SET 
	t_year = #{t_year},
	t_month = #{t_month},
	t_day = #{t_day},
	t_gb = #{t_gb},
	t_url = #{t_url},
	t_ok = #{t_ok}
	WHERE id = #{id}
	</update>
</mapper>